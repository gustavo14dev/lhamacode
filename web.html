<!DOCTYPE html>
<html lang="pt-BR"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Pesquisa na Web - Drekee AI 1</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#3B82F6", // Blue accent color for button
                        "background-light": "#F0F9FF", // Light blue background
                        "background-dark": "#0F172A", // Dark blue background
                        "surface-light": "#FFFFFF",
                        "surface-dark": "#1E293B",
                        "text-main-light": "#1E293B", // Dark blue text
                        "text-main-dark": "#F8FAFC", // Light text for dark mode
                        "sidebar-light": "#F8FAFC",
                        "sidebar-dark": "#1E293B",
                    },
                    fontFamily: {
                        display: ["'Plus Jakarta Sans'", "sans-serif"],
                        sans: ["'Plus Jakarta Sans'", "sans-serif"],
                        inter: ["'Inter'", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "0.5rem",
                        'xl': '1rem',
                        '2xl': '1.5rem',
                        '3xl': '2rem',
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(59, 130, 246, 0.1)',
                        'input': '0 10px 40px -10px rgba(59, 130, 246, 0.15)',
                    }
                },
            },
        };
    </script>
<style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
        }.custom-bg {
            background: linear-gradient(135deg, #F0F9FF 0%, #E0F2FE 50%, #DBEAFE 100%);
        }
        .dark .custom-bg {
            background: linear-gradient(135deg, #0F172A 0%, #1E293B 50%, #334155 100%);
        }
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }
        .typing-animation {
            overflow: hidden;
            white-space: nowrap;
            border-right: 2px solid rgba(255,255,255,0.3);
            animation: typing 0.5s steps(40, end) forwards;
        }
        .animate-fadeIn {
            animation: fadeIn 0.3s ease;
        }
        .animate-scaleIn {
            animation: scaleIn 0.3s ease;
        }
        .animate-slideIn {
            animation: slideIn 0.3s ease;
        }
        .animate-spin-slow {
            animation: spin-slow 2s linear infinite;
        }
        .input-wrapper-bottom {
            position: fixed !important;
            bottom: 1rem !important;
            top: auto !important;
            transform: none !important;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
            will-change: transform, top, bottom;
        }
        .input-wrapper-center {
            position: fixed !important;
            top: 50% !important;
            bottom: auto !important;
            transform: translateY(-50%) !important;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
            will-change: transform, top, bottom;
        }
        .pause-button {
            width: 2.5rem;
            height: 2.5rem;
            background: linear-gradient(135deg, #3B82F6 0%, #2563EB 100%);
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 24px -8px rgba(59, 130, 246, 0.4);
            transition: all 0.2s ease;
        }
        .pause-button:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 32px -8px rgba(59, 130, 246, 0.6);
        }
        .pause-button:active {
            transform: scale(0.95);
        }
        /* Esconder scrollbar mas permitir scroll */
        #debugModalContent {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        #debugModalContent::-webkit-scrollbar {
            display: none;
        }
        
        /* Forçar tema escuro */
        html, body {
            background: #0f172a !important;
            color: #e2e8f0 !important;
        }
        
        .custom-bg {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%) !important;
        }
        
        /* Forçar cores do tema escuro */
        .text-text-main-light {
            color: #e2e8f0 !important;
        }
        
        .bg-sidebar-light\/95 {
            background: rgba(30, 41, 59, 0.95) !important;
        }
        
        .bg-surface-light {
            background: #1e293b !important;
        }
        
        /* Remover cores do tema claro */
        .bg-white\/5 {
            background: rgba(255, 255, 255, 0.05) !important;
        }
        
        /* Estilo para fontes */
        .source-box {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-left: 4px solid #3b82f6;
            border-radius: 0.5rem;
            padding: 0.75rem;
            margin-top: 0.5rem;
            transition: all 0.2s ease;
            margin-bottom: 0.5rem;
        }
        .dark .source-box {
            background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
            border-left: 4px solid #60a5fa;
        }
        .source-box:hover {
            transform: translateX(2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
        }
        .dark .source-box:hover {
            box-shadow: 0 4px 12px rgba(96, 165, 250, 0.25);
        }
        .source-box a {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #3b82f6 !important;
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 500;
            transition: color 0.2s ease;
        }
        .source-box a:hover {
            color: #2563eb !important;
            text-decoration: underline;
        }
        .dark .source-box a {
            color: #60a5fa !important;
        }
        .dark .source-box a:hover {
            color: #93c5fd !important;
        }
        
        /* Container de fontes */
        .sources-container {
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(59, 130, 246, 0.05);
            border-radius: 0.75rem;
            border: 1px solid rgba(59, 130, 246, 0.1);
        }
        .dark .sources-container {
            background: rgba(96, 165, 250, 0.05);
            border: 1px solid rgba(96, 165, 250, 0.1);
        }
        .sources-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
            font-size: 0.875rem;
            font-weight: 600;
            color: #1e293b;
        }
        .dark .sources-header {
            color: #f8fafc;
        }
        
        /* Animação dos pontinhos */
        .typing-dots {
            display: inline-flex;
            gap: 0.25rem;
            margin-left: 0.5rem;
        }
        .typing-dots span {
            width: 6px;
            height: 6px;
            background: currentColor;
            border-radius: 50%;
            animation: typingDot 1.4s infinite ease-in-out;
        }
        .typing-dots span:nth-child(1) {
            animation-delay: 0s;
        }
        .typing-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }
        .typing-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }
        @keyframes typingDot {
            0%, 60%, 100% {
                opacity: 0.3;
                transform: scale(0.8);
            }
            30% {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        /* Tempo estimado */
        .estimated-time {
            position: fixed;
            top: 1.5rem;
            right: 1.5rem;
            background: rgba(59, 130, 246, 0.1);
            color: #3b82f6;
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-size: 0.875rem;
            font-weight: 500;
            z-index: 50;
            animation: fadeIn 0.3s ease;
        }
        .dark .estimated-time {
            background: rgba(96, 165, 250, 0.1);
            color: #60a5fa;
        }
    </style>
</head>
<body class="custom-bg min-h-screen text-text-main-light dark:text-text-main-dark transition-colors duration-300 dark">
<nav class="fixed left-4 top-4 bottom-4 w-72 bg-sidebar-light/95 dark:bg-sidebar-dark/95 backdrop-blur-md rounded-[2rem] flex flex-col py-6 px-4 shadow-soft z-50 border border-white/50 dark:border-white/10 transition-colors duration-300">
<div class="mb-8 px-2 flex items-center gap-3">
    <video autoplay muted loop playsinline class="w-8 h-8 rounded-full object-cover">
        <source src="img/Video Project.mp4" type="video/mp4">
    </video>
    <div class="flex items-center gap-3">
        <span class="text-xl font-bold tracking-tight text-text-main-light dark:text-text-main-dark">Pesquisa na Web</span>
        <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-primary text-white tracking-wider">BETA 1</span>
    </div>
</div>
<button class="flex items-center gap-3 w-full p-3 mb-6 rounded-xl bg-surface-light dark:bg-white/5 border border-gray-100 dark:border-white/5 shadow-sm hover:shadow-md transition-all group text-left" id="newChatBtn">
<span class="material-icons-outlined text-primary group-hover:scale-110 transition-transform">add_circle</span>
<span class="font-semibold text-gray-700 dark:text-gray-200">Nova Pesquisa</span>
</button>
<div class="flex-1 overflow-y-auto no-scrollbar flex flex-col gap-4 px-1">
<div>
<h3 class="text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-3 pl-2">Suas Pesquisas</h3>
<div class="flex flex-col gap-1.5" id="chatHistoryList">
<div class="text-xs text-gray-400 dark:text-gray-500 px-3 py-6 text-center">Nenhuma pesquisa recente</div>
</div>
</div>
</div>
</nav>
<main class="ml-80 min-h-screen flex flex-col relative" id="mainContainer">

<!-- API Status Banner: exibido quando as ENV das APIs não estão configuradas ou /api/status falha -->
<div id="apiStatusBanner" class="fixed right-6 top-20 z-50 hidden bg-yellow-50 dark:bg-yellow-900 text-yellow-900 dark:text-yellow-100 border border-yellow-200 dark:border-yellow-700 rounded-lg px-4 py-2 shadow-sm max-w-md"></div>

<div class="flex-1 flex flex-col justify-end px-4 md:px-12 pb-20 max-w-4xl mx-auto" id="welcomeScreen">
<div class="max-w-6xl text-center mb-8 flex flex-col items-center transition-opacity duration-500" id="titleSection">
<video autoplay muted loop playsinline class="w-32 h-32 rounded-none object-cover">
        <source src="img/Video Project.mp4" type="video/mp4">
    </video>
<h1 class="text-4xl md:text-5xl lg:text-6xl font-medium tracking-tight text-white leading-[1.1] font-inter">
            Fique por dentro das notícias
        </h1>
</div>
</div>

<div class="flex-1 overflow-y-auto px-4 md:px-12 pt-8 pb-52" id="chatArea">
<div class="max-w-4xl mx-auto w-full" id="messagesContainer"></div>
</div>

<div class="fixed top-1/2 left-80 right-0 transform -translate-y-1/2 px-4 md:px-12 z-50 input-wrapper-center" id="inputWrapper">
<div class="max-w-4xl mx-auto w-full">
<div class="bg-surface-light dark:bg-surface-dark rounded-[2rem] p-4 shadow-input border border-white/60 dark:border-white/5 transition-all duration-300">

<textarea class="w-full bg-transparent border-none text-gray-600 dark:text-gray-300 text-lg placeholder-gray-400 dark:placeholder-gray-500 focus:ring-0 resize-none h-12 py-2 px-2" placeholder="O que você quer pesquisar na web?" id="userInput"></textarea>
<div class="flex flex-col sm:flex-row items-center justify-between gap-4 mt-2 px-2 pb-1">
<div class="flex items-center gap-3 w-full sm:w-auto overflow-x-auto no-scrollbar">
<!-- Vídeo animado ao lado do botão de anexo -->
<video id="inputVideo" autoplay muted loop playsinline class="w-10 h-10 rounded-lg object-cover hidden cursor-pointer hover:scale-105 transition-transform" style="display: none;" onclick="showBiluCard()" title="Clique para ver a família Bilu">
    <source src="img/Video Project.mp4" type="video/mp4">
</video>

<!-- Botão voltar para o code.html -->
<button onclick="window.location.href='code.html'" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-white/5 text-gray-600 dark:text-gray-300 transition-colors" title="Voltar">
<span class="material-icons-outlined text-base">arrow_back</span>
</button>
</div>
<div class="flex items-center gap-2 ml-auto">
<button class="w-10 h-10 rounded-full bg-primary hover:bg-primary/90 flex items-center justify-center text-white shadow-lg shadow-blue-500/30 transition-all transform hover:scale-105 active:scale-95" id="sendButton">
<span class="material-icons-outlined text-xl">arrow_upward</span>
</button>
</div>
</div>
</div>
</div>
</div>
</div>

<!-- Botão de scroll para baixo -->
<button class="absolute bottom-24 right-6 w-12 h-12 rounded-full bg-primary hover:bg-primary/90 text-white shadow-lg shadow-blue-500/30 transition-all transform hover:scale-110 active:scale-95 opacity-0 pointer-events-none animate-fadeIn" id="scrollToBottomBtn" title="Voltar para mensagem mais recente">
<span class="material-icons-outlined text-xl">arrow_downward</span>
</button>
</div>
</div>

<!-- Card de Erro de API -->
<script src="web.js"></script>
</body>
</html>
